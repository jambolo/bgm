(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var BGMGameScene, TouchInterpreter;

TouchInterpreter = require('./TouchInterpreter');

BGMGameScene = class BGMGameScene extends Phaser.Scene {
  constructor() {
    var i, j, k, l, ref, ref1;
    super();
    Phaser.Scene.call(this, {
      key: 'game',
      active: true
    });
    this.width = 60;
    this.height = 30;
    this.grid = new Array(this.width);
    for (i = k = 0, ref = this.width; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
      this.grid[i] = new Array(this.height);
      for (j = l = 0, ref1 = this.height; (0 <= ref1 ? l < ref1 : l > ref1); j = 0 <= ref1 ? ++l : --l) {
        this.grid[i][j] = {
          sprite: null
        };
      }
    }
    this.touch = new TouchInterpreter();
  }

  preload() {
    this.load.image('blank', 'images/blank.gif');
    this.load.image('flag', 'images/bombflagged.gif');
    return this.load.image('bomb', 'images/bomb0.gif');
  }

  create() {
    var i, j, k, l, ref, ref1, split;
    split = Math.floor(this.cameras.main.width * 0.9);
    this.cameras.main.setViewport(0, 0, split, this.cameras.main.height);
    for (i = k = 0, ref = this.width; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
      for (j = l = 0, ref1 = this.height; (0 <= ref1 ? l < ref1 : l > ref1); j = 0 <= ref1 ? ++l : --l) {
        this.grid[i][j].sprite = this.add.image(i * 16, j * 16, 'blank');
        this.grid[i][j].sprite.setOrigin(0, 0);
        this.grid[0][0].sprite.setTexture('flag');
      }
    }
    return this.touch.create(this, this.cameras.main, 0, 0, split, this.cameras.main.height);
  }

  update() {}

  setMode(mode) {
    this.mode = mode;
  }

  // console.log "Game Mode: #{@mode}"
  setMagnifyingGlass(x, y, alpha) {
    return this.scene.get('hud').setMagnifyingGlass(x, y, alpha);
  }

  tap(worldX, worldY) {
    var x, y;
    // @scene.get('hud').debugText.text = "Tapped: #{worldX.toFixed(1)} #{worldY.toFixed(1)}"
    if ((worldX >= 0) && (worldX < (this.width * 16)) && (worldY >= 0) && (worldY < (this.height * 16))) {
      x = Math.floor(worldX / 16);
      y = Math.floor(worldY / 16);
      this.grid[x][y].bomb = !this.grid[x][y].bomb;
      if (this.mode === 'flag') {
        return this.grid[x][y].sprite.setTexture('flag');
      } else {
        return this.grid[x][y].sprite.setTexture('bomb');
      }
    }
  }

};

module.exports = BGMGameScene;


},{"./TouchInterpreter":3}],2:[function(require,module,exports){
var BGMHudScene;

BGMHudScene = class BGMHudScene extends Phaser.Scene {
  constructor() {
    super();
    Phaser.Scene.call(this, {
      key: 'hud',
      active: true
    });
  }

  preload() {
    this.load.image('glass', 'images/glass.gif');
    this.load.image('btn_bomb', 'images/btn_bomb.png');
    return this.load.image('btn_flag', 'images/btn_flag.png');
  }

  create() {
    this.panelX = Math.floor(this.cameras.main.width * 0.9);
    this.panelY = 0;
    this.panelW = this.cameras.main.width - this.panelX;
    this.panelH = this.cameras.main.height;
    this.panelBackground = this.add.graphics();
    this.panelBackground.fillStyle(0x333333, 1);
    this.panelBackground.fillRect(this.panelX, this.panelY, this.panelW, this.panelH);
    this.panelBackground.lineStyle(1, 0x000000, 1.0);
    this.panelBackground.strokeRect(this.panelX, this.panelY, this.panelW, this.panelH);
    this.button = this.add.image(this.panelX + (this.panelW / 2), this.panelY + (this.panelH / 2), 'btn_bomb');
    this.button.setDisplaySize(this.panelW * 0.8, this.panelW * 0.8);
    this.button.setInteractive();
    this.button.on('pointerdown', () => {
      return this.toggleMode();
    });
    this.toggleMode();
    // @debugText = @add.text(0, 0, 'Tap somewhere!')
    this.glass = this.add.image(50, 50, 'glass');
    this.glass.setOrigin(0.6, 0.3); // roughly the middle of the magnifying glass
    return this.glass.alpha = 0;
  }

  toggleMode() {
    if (this.mode === 'bomb') {
      this.mode = 'flag';
    } else {
      this.mode = 'bomb';
    }
    this.button.setTexture(`btn_${this.mode}`);
    return this.scene.get('game').setMode(this.mode);
  }

  update() {}

  setMagnifyingGlass(x, y, alpha) {
    this.glass.x = x;
    this.glass.y = y;
    return this.glass.alpha = alpha;
  }

};

module.exports = BGMHudScene;


},{}],3:[function(require,module,exports){
var DOUBLE_CLICK_MS, ENGAGE_DRAG_DISTANCE, TouchInterpreter;

ENGAGE_DRAG_DISTANCE = 10;

DOUBLE_CLICK_MS = 400;

TouchInterpreter = class TouchInterpreter {
  constructor() {
    this.tracked = [];
    this.dragX = 0;
    this.dragY = 0;
    this.dragging = false;
    this.doubleClickTime = null;
    this.pinchAnchor = null;
    this.pinchAnchorWorld = null;
  }

  create(scene, camera, x, y, w, h) {
    this.scene = scene;
    this.camera = camera;
    this.x = x;
    this.y = y;
    this.w = w;
    this.h = h;
    this.camera.zoom = 1;
    this.scene.input.addPointer(1);
    this.scene.input.on('pointerdown', (pointer) => {
      var clickDelta, now;
      if (pointer.position.x > (this.x + this.w)) {
        return;
      }
      if (this.tracked.length === 0) {
        this.dragging = false;
      }
      // console.log "new pointer #{pointer.id}"
      this.tracked.push({
        id: pointer.id,
        pos: pointer.position.clone()
      });
      if (this.tracked.length === 1) {
        this.setDragPoint();
      }
      if (this.tracked.length === 2) {
        // We just added a second touch spot. Calculate the anchor for pinching now
        this.calcPinchAnchor();
      }
      if (this.tracked.length > 1) {
        this.dragging = true;
        return this.doubleClickTime = null;
      } else if (!this.dragging) {
        now = new Date().getTime();
        if (this.doubleClickTime !== null) {
          // second click
          clickDelta = now - this.doubleClickTime;
          if (clickDelta < DOUBLE_CLICK_MS) {
            this.doubleClickTime = null;
            return;
          }
        }
        // console.log "DOUBLE TAP #{@tracked[0].pos.x} #{@tracked[0].pos.y}"
        return this.doubleClickTime = now;
      }
    });
    this.scene.input.on('pointermove', (pointer) => {
      var currDistance, deltaDistance, dragDistance, dx, dy, i, index, j, newZoom, prevDistance, prevX, prevY, ref;
      prevDistance = 0;
      if (this.tracked.length >= 2) {
        prevDistance = this.calcDistance(this.tracked[0].pos.x, this.tracked[0].pos.y, this.tracked[1].pos.x, this.tracked[1].pos.y);
      }
      if (this.tracked.length === 1) {
        prevX = this.tracked[0].pos.x;
        prevY = this.tracked[0].pos.y;
      }
      index = -1;
      for (i = j = 0, ref = this.tracked.length; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
        if (this.tracked[i].id === pointer.id) {
          index = i;
          break;
        }
      }
      if (index === -1) {
        return;
      }
      this.tracked[index].pos = pointer.position.clone();
      if (this.tracked.length === 1) {
        // single touch, consider dragging
        dragDistance = this.calcDistance(this.dragX, this.dragY, this.tracked[0].pos.x, this.tracked[0].pos.y);
        if (this.dragging || (dragDistance > ENGAGE_DRAG_DISTANCE)) {
          this.dragging = true;
          if (dragDistance > 0.5) {
            dx = this.tracked[0].pos.x - this.dragX;
            dy = this.tracked[0].pos.y - this.dragY;
            // console.log "single drag: #{dx}, #{dy}"
            this.camera.scrollX -= dx / this.camera.zoom;
            this.camera.scrollY -= dy / this.camera.zoom;
          }
          // console.log "scroll #{@camera.scrollX} #{@camera.zoom} #{@camera.width}"
          this.setDragPoint();
        }
      } else if (this.tracked.length >= 2) {
        // at least two fingers present, check for pinch/zoom
        currDistance = this.calcDistance(this.tracked[0].pos.x, this.tracked[0].pos.y, this.tracked[1].pos.x, this.tracked[1].pos.y);
        deltaDistance = currDistance - prevDistance;
        if (deltaDistance !== 0) {
          newZoom = this.camera.zoom * (1 + (deltaDistance * 4 / this.camera.width));
          this.adjustZoom(newZoom);
        }
      }
    });
    this.scene.input.on('pointerup', (pointer) => {
      var i, index, j, ref, worldPos;
      index = -1;
      for (i = j = 0, ref = this.tracked.length; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
        if (this.tracked[i].id === pointer.id) {
          index = i;
          break;
        }
      }
      if (index === -1) {
        return;
      }
      if (this.tracked.length === 1) {
        if (!this.dragging) {
          worldPos = this.camera.getWorldPoint(this.tracked[0].pos.x, this.tracked[0].pos.y);
          // console.log "TAP #{worldPos.x} #{worldPos.y} #{@camera.scrollX} #{@camera.scrollY} #{@camera.zoom}"
          this.scene.tap(worldPos.x, worldPos.y);
        }
      }
      this.tracked.splice(index, 1);
      if (this.tracked.length === 1) {
        this.setDragPoint();
      }
      if (index < 2) {
        // We just forgot one of our pinch touches. Pick a new anchor spot.
        this.calcPinchAnchor();
      }
      this.scene.setMagnifyingGlass(0, 0, 0);
    });
    return this.scene.input.on('wheel', (pointer, gameObjects, deltaX, deltaY, deltaZ) => {
      var newZoom;
      this.calcPinchAnchor(pointer.position.x, pointer.position.y);
      newZoom = this.camera.zoom * (1 - (deltaY / 480));
      this.adjustZoom(newZoom);
      this.scene.setMagnifyingGlass(0, 0, 0);
    });
  }

  adjustZoom(newZoom) {
    var halfH, halfW, offsetX, offsetY;
    if (newZoom < 0.1) {
      newZoom = 0.1;
    }
    if (newZoom > 5) {
      newZoom = 5;
    }
    this.camera.zoom = newZoom;
    halfW = this.camera.width / 2;
    halfH = this.camera.height / 2;
    offsetX = (this.pinchAnchor.x - halfW) / newZoom;
    offsetY = (this.pinchAnchor.y - halfH) / newZoom;
    this.camera.scrollX = this.pinchAnchorWorld.x - halfW - offsetX;
    this.camera.scrollY = this.pinchAnchorWorld.y - halfH - offsetY;
  }

  setDragPoint() {
    this.dragX = this.tracked[0].pos.x;
    return this.dragY = this.tracked[0].pos.y;
  }

  calcPinchAnchor(pinchX = null, pinchY = null) {
    if ((pinchX === null) && (pinchY === null)) {
      if (this.tracked.length < 2) {
        return;
      }
      pinchX = Math.floor((this.tracked[0].pos.x + this.tracked[1].pos.x) / 2);
      pinchY = Math.floor((this.tracked[0].pos.y + this.tracked[1].pos.y) / 2);
    }
    this.pinchAnchor = {
      x: pinchX,
      y: pinchY
    };
    this.pinchAnchorWorld = this.camera.getWorldPoint(pinchX, pinchY);
    return this.scene.setMagnifyingGlass(this.pinchAnchor.x, this.pinchAnchor.y, 1);
  }

  calcDistance(x1, y1, x2, y2) {
    var dx, dy;
    dx = x2 - x1;
    dy = y2 - y1;
    return Math.sqrt(dx * dx + dy * dy);
  }

};

module.exports = TouchInterpreter;


},{}],4:[function(require,module,exports){
var BGMGameScene, BGMHudScene, init;

BGMGameScene = require('./BGMGameScene');

BGMHudScene = require('./BGMHudScene');

init = function() {
  var config, game;
  console.log("Bad Guy Minesweeper: init()");
  config = {
    type: Phaser.AUTO,
    width: document.documentElement.clientWidth,
    height: document.documentElement.clientHeight,
    backgroundColor: '#000000', // '#2d2d2d'
    parent: 'screen',
    input: {
      activePointers: 2
    },
    scene: [BGMGameScene, BGMHudScene]
  };
  return game = new Phaser.Game(config);
};

window.addEventListener('load', function(e) {
  return init();
}, false);


},{"./BGMGameScene":1,"./BGMHudScene":2}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQkdNR2FtZVNjZW5lLmNvZmZlZSIsInNyYy9CR01IdWRTY2VuZS5jb2ZmZWUiLCJzcmMvVG91Y2hJbnRlcnByZXRlci5jb2ZmZWUiLCJzcmMvbWFpbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLFlBQUEsRUFBQTs7QUFBQSxnQkFBQSxHQUFtQixPQUFBLENBQVEsb0JBQVI7O0FBRWIsZUFBTixNQUFBLGFBQUEsUUFBMkIsTUFBTSxDQUFDLE1BQWxDO0VBQ0UsV0FBYSxDQUFBLENBQUE7QUFDZixRQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7U0FBSSxDQUFBO0lBQ0EsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFiLENBQWtCLElBQWxCLEVBQXdCO01BQUUsR0FBQSxFQUFLLE1BQVA7TUFBZSxNQUFBLEVBQVE7SUFBdkIsQ0FBeEI7SUFFQSxJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUVWLElBQUMsQ0FBQSxJQUFELEdBQVEsSUFBSSxLQUFKLENBQVUsSUFBQyxDQUFBLEtBQVg7SUFDUixLQUFTLHFGQUFUO01BQ0UsSUFBQyxDQUFBLElBQUksQ0FBQyxDQUFELENBQUwsR0FBVyxJQUFJLEtBQUosQ0FBVSxJQUFDLENBQUEsTUFBWDtNQUNYLEtBQVMsMkZBQVQ7UUFDRSxJQUFDLENBQUEsSUFBSSxDQUFDLENBQUQsQ0FBRyxDQUFDLENBQUQsQ0FBUixHQUNFO1VBQUEsTUFBQSxFQUFRO1FBQVI7TUFGSjtJQUZGO0lBTUEsSUFBQyxDQUFBLEtBQUQsR0FBUyxJQUFJLGdCQUFKLENBQUE7RUFkRTs7RUFnQmIsT0FBUyxDQUFBLENBQUE7SUFDUCxJQUFDLENBQUEsSUFBSSxDQUFDLEtBQU4sQ0FBWSxPQUFaLEVBQXFCLGtCQUFyQjtJQUNBLElBQUMsQ0FB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QUFyQjtFQUhLOztBQXhKaEI7O0FBNkpBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCOzs7O0FDaEtqQixJQUFBLFlBQUEsRUFBQSxXQUFBLEVBQUE7O0FBQUEsWUFBQSxHQUFlLE9BQUEsQ0FBUSxnQkFBUjs7QUFDZixXQUFBLEdBQWMsT0FBQSxDQUFRLGVBQVI7O0FBRWQsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ1AsTUFBQSxNQUFBLEVBQUE7RUFBRSxPQUFPLENBQUMsR0FBUixDQUFZLDZCQUFaO0VBRUEsTUFBQSxHQUNFO0lBQUEsSUFBQSxFQUFNLE1BQU0sQ0FBQyxJQUFiO0lBQ0EsS0FBQSxFQUFPLFFBQVEsQ0FBQyxlQUFlLENBQUMsV0FEaEM7SUFFQSxNQUFBLEVBQVEsUUFBUSxDQUFDLGVBQWUsQ0FBQyxZQUZqQztJQUdBLGVBQUEsRUFBaUIsU0FIakI7SUFJQSxNQUFBLEVBQVEsUUFKUjtJQUtBLEtBQUEsRUFDRTtNQUFBLGNBQUEsRUFBZ0I7SUFBaEIsQ0FORjtJQU9BLEtBQUEsRUFBTyxDQUNMLFlBREssRUFFTCxXQUZLO0VBUFA7U0FZRixJQUFBLEdBQU8sSUFBSSxNQUFNLENBQUMsSUFBWCxDQUFnQixNQUFoQjtBQWhCRjs7QUFtQlAsTUFBTSxDQUFDLGdCQUFQLENBQXdCLE1BQXhCLEVBQWdDLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FDNUIsSUFBQSxDQUFBO0FBRDRCLENBQWhDLEVBRUUsS0FGRiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlRvdWNoSW50ZXJwcmV0ZXIgPSByZXF1aXJlICcuL1RvdWNoSW50ZXJwcmV0ZXInXHJcblxyXG5jbGFzcyBCR01HYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmVcclxuICBjb25zdHJ1Y3RvcjogLT5cclxuICAgIHN1cGVyKClcclxuICAgIFBoYXNlci5TY2VuZS5jYWxsKHRoaXMsIHsga2V5OiAnZ2FtZScsIGFjdGl2ZTogdHJ1ZSB9KTtcclxuXHJcbiAgICBAd2lkdGggPSA2MFxyXG4gICAgQGhlaWdodCA9IDMwXHJcblxyXG4gICAgQGdyaWQgPSBuZXcgQXJyYXkoQHdpZHRoKVxyXG4gICAgZm9yIGkgaW4gWzAuLi5Ad2lkdGhdXHJcbiAgICAgIEBncmlkW2ldID0gbmV3IEFycmF5KEBoZWlnaHQpXHJcbiAgICAgIGZvciBqIGluIFswLi4uQGhlaWdodF1cclxuICAgICAgICBAZ3JpZFtpXVtqXSA9XHJcbiAgICAgICAgICBzcHJpdGU6IG51bGxcclxuXHJcbiAgICBAdG91Y2ggPSBuZXcgVG91Y2hJbnRlcnByZXRlclxyXG5cclxuICBwcmVsb2FkOiAtPlxyXG4gICAgQGxvYWQuaW1hZ2UoJ2JsYW5rJywgJ2ltYWdlcy9ibGFuay5naWYnKVxyXG4gICAgQGxvYWQuaW1hZ2UoJ2ZsYWcnLCAnaW1hZ2VzL2JvbWJmbGFnZ2VkLmdpZicpXHJcbiAgICBAbG9hZC5pbWFnZSgnYm9tYicsICdpbWFnZXMvYm9tYjAuZ2lmJylcclxuXHJcbiAgY3JlYXRlOiAtPlxyXG4gICAgc3BsaXQgPSBNYXRoLmZsb29yKEBjYW1lcmFzLm1haW4ud2lkdGggKiAwLjkpXHJcbiAgICBAY2FtZXJhcy5tYWluLnNldFZpZXdwb3J0KDAsIDAsIHNwbGl0LCBAY2FtZXJhcy5tYWluLmhlaWdodClcclxuXHJcbiAgICBmb3IgaSBpbiBbMC4uLkB3aWR0aF1cclxuICAgICAgZm9yIGogaW4gWzAuLi5AaGVpZ2h0XVxyXG4gICAgICAgIEBncmlkW2ldW2pdLnNwcml0ZSA9IEBhZGQuaW1hZ2UoaSAqIDE2LCBqICogMTYsICdibGFuaycpXHJcbiAgICAgICAgQGdyaWRbaV1bal0uc3ByaXRlLnNldE9yaWdpbigwLCAwKVxyXG5cclxuICAgICAgICBAZ3JpZFswXVswXS5zcHJpdGUuc2V0VGV4dHVyZSgnZmxhZycpXHJcblxyXG4gICAgQHRvdWNoLmNyZWF0ZSh0aGlzLCBAY2FtZXJhcy5tYWluLCAwLCAwLCBzcGxpdCwgQGNhbWVyYXMubWFpbi5oZWlnaHQpXHJcblxyXG4gIHVwZGF0ZTogLT5cclxuXHJcbiAgc2V0TW9kZTogKEBtb2RlKSAtPlxyXG4gICAgIyBjb25zb2xlLmxvZyBcIkdhbWUgTW9kZTogI3tAbW9kZX1cIlxyXG5cclxuICBzZXRNYWduaWZ5aW5nR2xhc3M6ICh4LCB5LCBhbHBoYSkgLT5cclxuICAgIEBzY2VuZS5nZXQoJ2h1ZCcpLnNldE1hZ25pZnlpbmdHbGFzcyh4LCB5LCBhbHBoYSlcclxuXHJcbiAgdGFwOiAod29ybGRYLCB3b3JsZFkpIC0+XHJcbiAgICAjIEBzY2VuZS5nZXQoJ2h1ZCcpLmRlYnVnVGV4dC50ZXh0ID0gXCJUYXBwZWQ6ICN7d29ybGRYLnRvRml4ZWQoMSl9ICN7d29ybGRZLnRvRml4ZWQoMSl9XCJcclxuXHJcbiAgICBpZiAod29ybGRYID49IDApIGFuZCAod29ybGRYIDwgKEB3aWR0aCAqIDE2KSkgYW5kICh3b3JsZFkgPj0gMCkgYW5kICh3b3JsZFkgPCAoQGhlaWdodCAqIDE2KSlcclxuICAgICAgeCA9IE1hdGguZmxvb3Iod29ybGRYIC8gMTYpXHJcbiAgICAgIHkgPSBNYXRoLmZsb29yKHdvcmxkWSAvIDE2KVxyXG4gICAgICBAZ3JpZFt4XVt5XS5ib21iID0gIUBncmlkW3hdW3ldLmJvbWJcclxuICAgICAgaWYgQG1vZGUgPT0gJ2ZsYWcnXHJcbiAgICAgICAgQGdyaWRbeF1beV0uc3ByaXRlLnNldFRleHR1cmUoJ2ZsYWcnKVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgQGdyaWRbeF1beV0uc3ByaXRlLnNldFRleHR1cmUoJ2JvbWInKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCR01HYW1lU2NlbmVcclxuIiwiY2xhc3MgQkdNSHVkU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmVcclxuICBjb25zdHJ1Y3RvcjogLT5cclxuICAgIHN1cGVyKClcclxuICAgIFBoYXNlci5TY2VuZS5jYWxsKHRoaXMsIHsga2V5OiAnaHVkJywgYWN0aXZlOiB0cnVlIH0pO1xyXG5cclxuICBwcmVsb2FkOiAtPlxyXG4gICAgQGxvYWQuaW1hZ2UoJ2dsYXNzJywgJ2ltYWdlcy9nbGFzcy5naWYnKVxyXG5cclxuICAgIEBsb2FkLmltYWdlKCdidG5fYm9tYicsICdpbWFnZXMvYnRuX2JvbWIucG5nJylcclxuICAgIEBsb2FkLmltYWdlKCdidG5fZmxhZycsICdpbWFnZXMvYnRuX2ZsYWcucG5nJylcclxuXHJcbiAgY3JlYXRlOiAtPlxyXG4gICAgQHBhbmVsWCA9IE1hdGguZmxvb3IoQGNhbWVyYXMubWFpbi53aWR0aCAqIDAuOSlcclxuICAgIEBwYW5lbFkgPSAwXHJcbiAgICBAcGFuZWxXID0gQGNhbWVyYXMubWFpbi53aWR0aCAtIEBwYW5lbFhcclxuICAgIEBwYW5lbEggPSBAY2FtZXJhcy5tYWluLmhlaWdodFxyXG5cclxuICAgIEBwYW5lbEJhY2tncm91bmQgPSBAYWRkLmdyYXBoaWNzKClcclxuICAgIEBwYW5lbEJhY2tncm91bmQuZmlsbFN0eWxlKDB4MzMzMzMzLCAxKVxyXG4gICAgQHBhbmVsQmFja2dyb3VuZC5maWxsUmVjdChAcGFuZWxYLCBAcGFuZWxZLCBAcGFuZWxXLCBAcGFuZWxIKVxyXG4gICAgQHBhbmVsQmFja2dyb3VuZC5saW5lU3R5bGUoMSwgMHgwMDAwMDAsIDEuMClcclxuICAgIEBwYW5lbEJhY2tncm91bmQuc3Ryb2tlUmVjdChAcGFuZWxYLCBAcGFuZWxZLCBAcGFuZWxXLCBAcGFuZWxIKVxyXG5cclxuICAgIEBidXR0b24gPSBAYWRkLmltYWdlKEBwYW5lbFggKyAoQHBhbmVsVyAvIDIpLCBAcGFuZWxZICsgKEBwYW5lbEggLyAyKSwgJ2J0bl9ib21iJylcclxuICAgIEBidXR0b24uc2V0RGlzcGxheVNpemUoQHBhbmVsVyAqIDAuOCwgQHBhbmVsVyAqIDAuOClcclxuICAgIEBidXR0b24uc2V0SW50ZXJhY3RpdmUoKVxyXG4gICAgQGJ1dHRvbi5vbiAncG9pbnRlcmRvd24nLCA9PlxyXG4gICAgICBAdG9nZ2xlTW9kZSgpXHJcbiAgICBAdG9nZ2xlTW9kZSgpXHJcblxyXG4gICAgIyBAZGVidWdUZXh0ID0gQGFkZC50ZXh0KDAsIDAsICdUYXAgc29tZXdoZXJlIScpXHJcbiAgICBAZ2xhc3MgPSBAYWRkLmltYWdlKDUwLCA1MCwgJ2dsYXNzJylcclxuICAgIEBnbGFzcy5zZXRPcmlnaW4oMC42LCAwLjMpICMgcm91Z2hseSB0aGUgbWlkZGxlIG9mIHRoZSBtYWduaWZ5aW5nIGdsYXNzXHJcbiAgICBAZ2xhc3MuYWxwaGEgPSAwXHJcblxyXG4gIHRvZ2dsZU1vZGU6IC0+XHJcbiAgICBpZiBAbW9kZSA9PSAnYm9tYidcclxuICAgICAgQG1vZGUgPSAnZmxhZydcclxuICAgIGVsc2VcclxuICAgICAgQG1vZGUgPSAnYm9tYidcclxuXHJcbiAgICBAYnV0dG9uLnNldFRleHR1cmUoXCJidG5fI3tAbW9kZX1cIilcclxuICAgIEBzY2VuZS5nZXQoJ2dhbWUnKS5zZXRNb2RlKEBtb2RlKVxyXG5cclxuICB1cGRhdGU6IC0+XHJcblxyXG4gIHNldE1hZ25pZnlpbmdHbGFzczogKHgsIHksIGFscGhhKSAtPlxyXG4gICAgQGdsYXNzLnggPSB4XHJcbiAgICBAZ2xhc3MueSA9IHlcclxuICAgIEBnbGFzcy5hbHBoYSA9IGFscGhhXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCR01IdWRTY2VuZVxyXG4iLCJFTkdBR0VfRFJBR19ESVNUQU5DRSA9IDEwXHJcbkRPVUJMRV9DTElDS19NUyA9IDQwMFxyXG5cclxuY2xhc3MgVG91Y2hJbnRlcnByZXRlclxyXG4gIGNvbnN0cnVjdG9yOiAtPlxyXG4gICAgQHRyYWNrZWQgPSBbXVxyXG4gICAgQGRyYWdYID0gMFxyXG4gICAgQGRyYWdZID0gMFxyXG4gICAgQGRyYWdnaW5nID0gZmFsc2VcclxuICAgIEBkb3VibGVDbGlja1RpbWUgPSBudWxsXHJcbiAgICBAcGluY2hBbmNob3IgPSBudWxsXHJcbiAgICBAcGluY2hBbmNob3JXb3JsZCA9IG51bGxcclxuXHJcbiAgY3JlYXRlOiAoQHNjZW5lLCBAY2FtZXJhLCBAeCwgQHksIEB3LCBAaCkgLT5cclxuICAgIEBjYW1lcmEuem9vbSA9IDFcclxuICAgIEBzY2VuZS5pbnB1dC5hZGRQb2ludGVyKDEpXHJcblxyXG4gICAgQHNjZW5lLmlucHV0Lm9uICdwb2ludGVyZG93bicsIChwb2ludGVyKSA9PlxyXG4gICAgICBpZiBwb2ludGVyLnBvc2l0aW9uLnggPiAoQHggKyBAdylcclxuICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA9PSAwXHJcbiAgICAgICAgQGRyYWdnaW5nID0gZmFsc2VcclxuXHJcbiAgICAgICMgY29uc29sZS5sb2cgXCJuZXcgcG9pbnRlciAje3BvaW50ZXIuaWR9XCJcclxuICAgICAgQHRyYWNrZWQucHVzaCB7XHJcbiAgICAgICAgaWQ6IHBvaW50ZXIuaWRcclxuICAgICAgICBwb3M6IHBvaW50ZXIucG9zaXRpb24uY2xvbmUoKVxyXG4gICAgICB9XHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA9PSAxXHJcbiAgICAgICAgQHNldERyYWdQb2ludCgpXHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA9PSAyXHJcbiAgICAgICAgIyBXZSBqdXN0IGFkZGVkIGEgc2Vjb25kIHRvdWNoIHNwb3QuIENhbGN1bGF0ZSB0aGUgYW5jaG9yIGZvciBwaW5jaGluZyBub3dcclxuICAgICAgICBAY2FsY1BpbmNoQW5jaG9yKClcclxuXHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA+IDFcclxuICAgICAgICBAZHJhZ2dpbmcgPSB0cnVlXHJcbiAgICAgICAgQGRvdWJsZUNsaWNrVGltZSA9IG51bGxcclxuICAgICAgZWxzZSBpZiBub3QgQGRyYWdnaW5nXHJcbiAgICAgICAgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICBpZiBAZG91YmxlQ2xpY2tUaW1lICE9IG51bGxcclxuICAgICAgICAgICMgc2Vjb25kIGNsaWNrXHJcbiAgICAgICAgICBjbGlja0RlbHRhID0gbm93IC0gQGRvdWJsZUNsaWNrVGltZVxyXG4gICAgICAgICAgaWYgY2xpY2tEZWx0YSA8IERPVUJMRV9DTElDS19NU1xyXG4gICAgICAgICAgICBAZG91YmxlQ2xpY2tUaW1lID0gbnVsbFxyXG4gICAgICAgICAgICAjIGNvbnNvbGUubG9nIFwiRE9VQkxFIFRBUCAje0B0cmFja2VkWzBdLnBvcy54fSAje0B0cmFja2VkWzBdLnBvcy55fVwiXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIEBkb3VibGVDbGlja1RpbWUgPSBub3dcclxuXHJcbiAgICBAc2NlbmUuaW5wdXQub24gJ3BvaW50ZXJtb3ZlJywgKHBvaW50ZXIpID0+XHJcbiAgICAgIHByZXZEaXN0YW5jZSA9IDBcclxuICAgICAgaWYgQHRyYWNrZWQubGVuZ3RoID49IDJcclxuICAgICAgICBwcmV2RGlzdGFuY2UgPSBAY2FsY0Rpc3RhbmNlKEB0cmFja2VkWzBdLnBvcy54LCBAdHJhY2tlZFswXS5wb3MueSwgQHRyYWNrZWRbMV0ucG9zLngsIEB0cmFja2VkWzFdLnBvcy55KVxyXG4gICAgICBpZiBAdHJhY2tlZC5sZW5ndGggPT0gMVxyXG4gICAgICAgIHByZXZYID0gQHRyYWNrZWRbMF0ucG9zLnhcclxuICAgICAgICBwcmV2WSA9IEB0cmFja2VkWzBdLnBvcy55XHJcblxyXG4gICAgICBpbmRleCA9IC0xXHJcbiAgICAgIGZvciBpIGluIFswLi4uQHRyYWNrZWQubGVuZ3RoXVxyXG4gICAgICAgIGlmIEB0cmFja2VkW2ldLmlkID09IHBvaW50ZXIuaWRcclxuICAgICAgICAgIGluZGV4ID0gaVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgaWYgaW5kZXggPT0gLTFcclxuICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgIEB0cmFja2VkW2luZGV4XS5wb3MgPSBwb2ludGVyLnBvc2l0aW9uLmNsb25lKClcclxuXHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA9PSAxXHJcbiAgICAgICAgIyBzaW5nbGUgdG91Y2gsIGNvbnNpZGVyIGRyYWdnaW5nXHJcbiAgICAgICAgZHJhZ0Rpc3RhbmNlID0gQGNhbGNEaXN0YW5jZSBAZHJhZ1gsIEBkcmFnWSwgQHRyYWNrZWRbMF0ucG9zLngsIEB0cmFja2VkWzBdLnBvcy55XHJcbiAgICAgICAgaWYgQGRyYWdnaW5nIG9yIChkcmFnRGlzdGFuY2UgPiBFTkdBR0VfRFJBR19ESVNUQU5DRSlcclxuICAgICAgICAgIEBkcmFnZ2luZyA9IHRydWVcclxuICAgICAgICAgIGlmIGRyYWdEaXN0YW5jZSA+IDAuNVxyXG4gICAgICAgICAgICBkeCA9IEB0cmFja2VkWzBdLnBvcy54IC0gQGRyYWdYXHJcbiAgICAgICAgICAgIGR5ID0gQHRyYWNrZWRbMF0ucG9zLnkgLSBAZHJhZ1lcclxuICAgICAgICAgICAgIyBjb25zb2xlLmxvZyBcInNpbmdsZSBkcmFnOiAje2R4fSwgI3tkeX1cIlxyXG4gICAgICAgICAgICBAY2FtZXJhLnNjcm9sbFggLT0gZHggLyBAY2FtZXJhLnpvb21cclxuICAgICAgICAgICAgQGNhbWVyYS5zY3JvbGxZIC09IGR5IC8gQGNhbWVyYS56b29tXHJcblxyXG4gICAgICAgICAgICAjIGNvbnNvbGUubG9nIFwic2Nyb2xsICN7QGNhbWVyYS5zY3JvbGxYfSAje0BjYW1lcmEuem9vbX0gI3tAY2FtZXJhLndpZHRofVwiXHJcbiAgICAgICAgICBAc2V0RHJhZ1BvaW50KClcclxuXHJcbiAgICAgIGVsc2UgaWYgQHRyYWNrZWQubGVuZ3RoID49IDJcclxuICAgICAgICAjIGF0IGxlYXN0IHR3byBmaW5nZXJzIHByZXNlbnQsIGNoZWNrIGZvciBwaW5jaC96b29tXHJcbiAgICAgICAgY3VyckRpc3RhbmNlID0gQGNhbGNEaXN0YW5jZShAdHJhY2tlZFswXS5wb3MueCwgQHRyYWNrZWRbMF0ucG9zLnksIEB0cmFja2VkWzFdLnBvcy54LCBAdHJhY2tlZFsxXS5wb3MueSlcclxuICAgICAgICBkZWx0YURpc3RhbmNlID0gY3VyckRpc3RhbmNlIC0gcHJldkRpc3RhbmNlXHJcbiAgICAgICAgaWYgZGVsdGFEaXN0YW5jZSAhPSAwXHJcbiAgICAgICAgICBuZXdab29tID0gQGNhbWVyYS56b29tICogKDEgKyAoZGVsdGFEaXN0YW5jZSAqIDQgLyBAY2FtZXJhLndpZHRoKSlcclxuICAgICAgICAgIEBhZGp1c3Rab29tKG5ld1pvb20pXHJcbiAgICAgIHJldHVyblxyXG5cclxuICAgIEBzY2VuZS5pbnB1dC5vbiAncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+XHJcbiAgICAgIGluZGV4ID0gLTFcclxuICAgICAgZm9yIGkgaW4gWzAuLi5AdHJhY2tlZC5sZW5ndGhdXHJcbiAgICAgICAgaWYgQHRyYWNrZWRbaV0uaWQgPT0gcG9pbnRlci5pZFxyXG4gICAgICAgICAgaW5kZXggPSBpXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICBpZiBpbmRleCA9PSAtMVxyXG4gICAgICAgIHJldHVyblxyXG5cclxuICAgICAgaWYgQHRyYWNrZWQubGVuZ3RoID09IDFcclxuICAgICAgICBpZiBub3QgQGRyYWdnaW5nXHJcbiAgICAgICAgICB3b3JsZFBvcyA9IEBjYW1lcmEuZ2V0V29ybGRQb2ludChAdHJhY2tlZFswXS5wb3MueCwgQHRyYWNrZWRbMF0ucG9zLnkpXHJcbiAgICAgICAgICAjIGNvbnNvbGUubG9nIFwiVEFQICN7d29ybGRQb3MueH0gI3t3b3JsZFBvcy55fSAje0BjYW1lcmEuc2Nyb2xsWH0gI3tAY2FtZXJhLnNjcm9sbFl9ICN7QGNhbWVyYS56b29tfVwiXHJcbiAgICAgICAgICBAc2NlbmUudGFwKHdvcmxkUG9zLngsIHdvcmxkUG9zLnkpXHJcblxyXG4gICAgICBAdHJhY2tlZC5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA9PSAxXHJcbiAgICAgICAgQHNldERyYWdQb2ludCgpXHJcblxyXG4gICAgICBpZiBpbmRleCA8IDJcclxuICAgICAgICAjIFdlIGp1c3QgZm9yZ290IG9uZSBvZiBvdXIgcGluY2ggdG91Y2hlcy4gUGljayBhIG5ldyBhbmNob3Igc3BvdC5cclxuICAgICAgICBAY2FsY1BpbmNoQW5jaG9yKClcclxuXHJcbiAgICAgIEBzY2VuZS5zZXRNYWduaWZ5aW5nR2xhc3MoMCwgMCwgMClcclxuICAgICAgcmV0dXJuXHJcblxyXG4gICAgQHNjZW5lLmlucHV0Lm9uICd3aGVlbCcsIChwb2ludGVyLCBnYW1lT2JqZWN0cywgZGVsdGFYLCBkZWx0YVksIGRlbHRhWikgPT5cclxuICAgICAgQGNhbGNQaW5jaEFuY2hvcihwb2ludGVyLnBvc2l0aW9uLngsIHBvaW50ZXIucG9zaXRpb24ueSlcclxuICAgICAgbmV3Wm9vbSA9IEBjYW1lcmEuem9vbSAqICgxIC0gKGRlbHRhWSAvIDQ4MCkpXHJcbiAgICAgIEBhZGp1c3Rab29tKG5ld1pvb20pXHJcbiAgICAgIEBzY2VuZS5zZXRNYWduaWZ5aW5nR2xhc3MoMCwgMCwgMClcclxuICAgICAgcmV0dXJuXHJcblxyXG4gIGFkanVzdFpvb206IChuZXdab29tKSAtPlxyXG4gICAgaWYgbmV3Wm9vbSA8IDAuMVxyXG4gICAgICBuZXdab29tID0gMC4xXHJcbiAgICBpZiBuZXdab29tID4gNVxyXG4gICAgICBuZXdab29tID0gNVxyXG4gICAgQGNhbWVyYS56b29tID0gbmV3Wm9vbVxyXG5cclxuICAgIGhhbGZXID0gKEBjYW1lcmEud2lkdGggLyAyKVxyXG4gICAgaGFsZkggPSAoQGNhbWVyYS5oZWlnaHQgLyAyKVxyXG4gICAgb2Zmc2V0WCA9IChAcGluY2hBbmNob3IueCAtIGhhbGZXKSAvIG5ld1pvb21cclxuICAgIG9mZnNldFkgPSAoQHBpbmNoQW5jaG9yLnkgLSBoYWxmSCkgLyBuZXdab29tXHJcbiAgICBAY2FtZXJhLnNjcm9sbFggPSBAcGluY2hBbmNob3JXb3JsZC54IC0gaGFsZlcgLSBvZmZzZXRYXHJcbiAgICBAY2FtZXJhLnNjcm9sbFkgPSBAcGluY2hBbmNob3JXb3JsZC55IC0gaGFsZkggLSBvZmZzZXRZXHJcbiAgICByZXR1cm5cclxuXHJcbiAgc2V0RHJhZ1BvaW50OiAtPlxyXG4gICAgQGRyYWdYID0gQHRyYWNrZWRbMF0ucG9zLnhcclxuICAgIEBkcmFnWSA9IEB0cmFja2VkWzBdLnBvcy55XHJcblxyXG4gIGNhbGNQaW5jaEFuY2hvcjogKHBpbmNoWCA9IG51bGwsIHBpbmNoWSA9IG51bGwpIC0+XHJcbiAgICBpZiAocGluY2hYID09IG51bGwpIGFuZCAocGluY2hZID09IG51bGwpXHJcbiAgICAgIGlmIEB0cmFja2VkLmxlbmd0aCA8IDJcclxuICAgICAgICByZXR1cm5cclxuICAgICAgcGluY2hYID0gTWF0aC5mbG9vcigoQHRyYWNrZWRbMF0ucG9zLnggKyBAdHJhY2tlZFsxXS5wb3MueCkgLyAyKVxyXG4gICAgICBwaW5jaFkgPSBNYXRoLmZsb29yKChAdHJhY2tlZFswXS5wb3MueSArIEB0cmFja2VkWzFdLnBvcy55KSAvIDIpXHJcblxyXG4gICAgQHBpbmNoQW5jaG9yID0ge3g6IHBpbmNoWCwgeTogcGluY2hZIH1cclxuICAgIEBwaW5jaEFuY2hvcldvcmxkID0gQGNhbWVyYS5nZXRXb3JsZFBvaW50KHBpbmNoWCwgcGluY2hZKVxyXG5cclxuICAgIEBzY2VuZS5zZXRNYWduaWZ5aW5nR2xhc3MoQHBpbmNoQW5jaG9yLngsIEBwaW5jaEFuY2hvci55LCAxKVxyXG5cclxuICBjYWxjRGlzdGFuY2U6ICh4MSwgeTEsIHgyLCB5MikgLT5cclxuICAgIGR4ID0geDIgLSB4MVxyXG4gICAgZHkgPSB5MiAtIHkxXHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRvdWNoSW50ZXJwcmV0ZXJcclxuIiwiQkdNR2FtZVNjZW5lID0gcmVxdWlyZSAnLi9CR01HYW1lU2NlbmUnXHJcbkJHTUh1ZFNjZW5lID0gcmVxdWlyZSAnLi9CR01IdWRTY2VuZSdcclxuXHJcbmluaXQgPSAtPlxyXG4gIGNvbnNvbGUubG9nIFwiQmFkIEd1eSBNaW5lc3dlZXBlcjogaW5pdCgpXCJcclxuXHJcbiAgY29uZmlnID1cclxuICAgIHR5cGU6IFBoYXNlci5BVVRPXHJcbiAgICB3aWR0aDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXHJcbiAgICBoZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnICMgJyMyZDJkMmQnXHJcbiAgICBwYXJlbnQ6ICdzY3JlZW4nXHJcbiAgICBpbnB1dDpcclxuICAgICAgYWN0aXZlUG9pbnRlcnM6IDJcclxuICAgIHNjZW5lOiBbXHJcbiAgICAgIEJHTUdhbWVTY2VuZVxyXG4gICAgICBCR01IdWRTY2VuZVxyXG4gICAgXVxyXG5cclxuICBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZylcclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChlKSAtPlxyXG4gICAgaW5pdCgpXHJcbiwgZmFsc2UpXHJcbiJdfQ==
